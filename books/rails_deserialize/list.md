---
title: "付録：リスト"
---


#### `Mashal.load`
  
- Ruby標準のモジュール
- デシリアライズには todo を使う
- FileやIOなどはデシリアライズできない
- デシリアライズする対象のクラスを制限する方法がない
- オブジェクトインジェクションが発生した場合、RCEになる可能性がある


#### `YAML.load`

- Ruby標準のモジュール
- デシリアライズには todo を使う
- FileやIOなどもシリアライズできるが状態は入らない
- `YAML.safe_load`を使うことでデシリアライズする対象を制限できる
- オブジェクトインジェクションが発生した場合、RCEになる可能性がある


#### `Hash.from_xml`

- ActiveSupportによる拡張
- デシリアライズできるものは予め定義されたものだけ
- オブジェクトインジェクションが発生した場合、RCEにはなりにくい(用途次第)
- 以前はYAMLをデシリアライズできたためRCEが可能だった


#### `JSON.load`

- Ruby標準のモジュール
- シリアライズには `.json_create` を使う
- シリアライズ/デシリアライズできるものは一部のクラスだけ
- `JSON.parse`を使うことでデシリアライズする対象をJSONとして定義される値だけに制限できる
- オブジェクトインジェクションが発生した場合、影響範囲は不明
- 標準ライブラリ以外を使った場合は、違う挙動をする可能性がある


#### `String.constantize`

- ActiveSupportによる拡張
- 該当する定数を呼び出す。
- オブジェクトインジェクションが発生した場合、影響範囲は不明


#### `GlobalID::Locator.locate`

- Railsで読み込まれる
- デシリアライズには `.find` を使う
- デシリアライズできるものはActiveRecordのモデルだが、稀にデシリアライズできてしまうクラスがある
- オブジェクトインジェクションが発生した場合、影響範囲は不明


#### `GlobalID::Locator.locate_signed`

- Railsで読み込まれる
- シリアライズにはActiveSupport::MessageVerifierと `.find` を使う
- デフォルトでは内部でMarshal.loadが使われる
- オブジェクトインジェクションが発生した場合、RCEが可能
